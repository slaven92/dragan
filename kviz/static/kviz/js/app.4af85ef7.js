(function(e){function n(n){for(var i,r,s=n[0],l=n[1],u=n[2],d=0,v=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&v.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);c&&c(n);while(v.length)v.shift()();return a.push.apply(a,u||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],i=!0,s=1;s<t.length;s++){var l=t[s];0!==o[l]&&(i=!1)}i&&(a.splice(n--,1),e=r(r.s=t[0]))}return e}var i={},o={app:0},a=[];function r(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=i,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)r.d(t,i,function(n){return e[n]}.bind(null,i));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var c=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var i=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-app",[t("v-app-bar",{attrs:{app:"",color:"primary",dark:"","clipped-left":"","hide-on-scroll":"",absolute:""}},[t("v-app-bar-nav-icon",{on:{click:function(n){n.stopPropagation(),e.drawer=!e.drawer}}}),t("v-toolbar-title",[e._v("Saznaj koji si Dragan")]),t("v-spacer")],1),t("v-navigation-drawer",{attrs:{clipped:"",app:""},model:{value:e.drawer,callback:function(n){e.drawer=n},expression:"drawer"}},[t("v-list",{attrs:{dense:"",nav:""}},[t("v-list-item-group",{model:{value:e.group,callback:function(n){e.group=n},expression:"group"}},[t("v-list-item",{on:{click:e.doLoginOrLogout}},[t("v-list-item-icon",[t("v-icon",[e._v("mdi-account")])],1),e.isLoggedIn?t("v-list-item-title",[e._v("Odjavi se")]):t("v-list-item-title",[e._v("Prijavi se")])],1),e.isLoggedIn?t("v-list-item",{on:{click:e.goToAddQuestion}},[t("v-list-item-icon",[t("v-icon",[e._v("mdi-plus")])],1),t("v-list-item-title",[e._v("Dodaj pitanje")])],1):e._e()],1)],1)],1),t("v-main",[e.addQuestion?t("AddQuestion",{on:{updateQuery:e.doUpdateQuestion}}):t("ApolloExample",{ref:"qq"})],1)],1)},a=[],r=t("8785"),s=t("9530"),l=t.n(s),u=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"apollo-example"},[i("ApolloQuery",{ref:"queryComponentRef",attrs:{query:t("8002"),update:e.update},on:{updateQuery:e.onDoAgain},scopedSlots:e._u([{key:"default",fn:function(n){var t=n.result,o=t.loading,a=t.error,r=t.data,s=n.query;return[o?i("div",{staticClass:"loading apollo"},[e._v("Loading...")]):a?i("div",{staticClass:"error apollo"},[e._v("An error occured")]):r?i("div",{staticClass:"result apollo"},[i("v-progress-linear",{attrs:{height:"15",value:(e.currentQuestion+1)/e.totalNumberOfQuestions*100,rounded:""}},[e._v(e._s(e.currentQuestion+1)+" / "+e._s(e.totalNumberOfQuestions))]),e.isEnd?i("div",[i("Result",{attrs:{answers:e.submitedAnswers},on:{"do-again":function(n){return e.onDoAgain(s)}}})],1):i("div",[i("SingleQuestion",{attrs:{question:r.allQuestions.edges[e.currentQuestion].node},on:{doVote:e.doVote,"submit-answer":e.onSubmitAnswer}})],1)],1):i("div",{staticClass:"no-result apollo"},[e._v("Loading...")]),i("v-container",[i("v-row",{attrs:{align:"center","align-content":"center",justify:"center"}},[i("v-col",{attrs:{cols:"12",lg:"8"}},[i("v-alert",{attrs:{"close-text":"Close Alert",dark:"",type:"error",dismissible:""},model:{value:e.alert,callback:function(n){e.alert=n},expression:"alert"}},[e._v("Morate se ulogovati da biste lajkovali pitanje!")])],1)],1)],1)]}}])})],1)},c=[],d=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-row",{attrs:{align:"center","align-content":"center",justify:"center"}},[t("v-col",{attrs:{cols:"auto"}},[t("h1",[e._v(" "+e._s(e.question.questionText)+" ")])])],1),t("v-row",{attrs:{align:"center","align-content":"center",justify:"center"}},[t("v-col",{attrs:{cols:"12",lg:"8"}},e._l(e.question.choiceSet.edges,(function(n){return t("div",{key:n.node.id},[t("v-btn",{attrs:{large:"",block:"",color:"primary"},on:{click:function(t){return e.$emit("submit-answer",n.node.id,e.question.id)}}},[e._v(" "+e._s(n.node.choiceText)+" "),t("v-badge",{attrs:{content:n.node.votes,inline:""}},[t("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-heart")])],1)],1)],1)})),0)],1),t("v-row",[t("v-col",{attrs:{lg:"4","offset-lg":"2"}},[t("p",[e._v("Pitao:"+e._s(e.question.creator.username))])]),t("v-col",{staticStyle:{"text-align":"right"},attrs:{lg:"4"}},[t("v-btn",{attrs:{color:"secondary"},on:{click:function(n){return e.$emit("doVote",e.question.id)}}},[e._v(e._s(e.question.voteCount)+" "),e.question.userDidVote?t("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-heart")]):t("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-heart-outline")])],1)],1)],1)],1)},v=[],f=(t("a9e3"),{props:{question:{id:String,questionText:String,creator:Object,voteCount:Number,userDidVote:Boolean}}}),m=f,p=t("2877"),g=t("6544"),h=t.n(g),b=t("4ca6"),k=t("8336"),w=t("62ad"),S=t("a523"),_=t("132d"),y=t("0fd9"),V=Object(p["a"])(m,d,v,!1,null,null,null),O=V.exports;h()(V,{VBadge:b["a"],VBtn:k["a"],VCol:w["a"],VContainer:S["a"],VIcon:_["a"],VRow:y["a"]});var A=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("ApolloMutation",{attrs:{mutation:t("65fc"),variables:{answerss:e.answerss}},on:{done:e.onDone},scopedSlots:e._u([{key:"default",fn:function(n){var t=n.mutate,o=n.loading,a=n.error;return[e.finished?i("div",[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400"}},[i("v-img",{attrs:{src:e.result}}),i("v-card-title",[e._v("Dragan")]),i("v-card-actions",[i("v-btn",{on:{click:function(n){return e.$emit("do-again")}}},[e._v(" Odradi ponovo ")])],1)],1)],1):i("div",o?[e._v(" Loading ")]:[e._v(" Loading "+e._s(t())+" ")]),a?i("p",[e._v("An error occurred: "+e._s(a))]):e._e()]}}])})},N=[],x={data:function(){return{finished:!1,base:"static/kviz/",result:""}},props:{answers:Array},computed:{answerss:function(){return{answerList:this.answers}}},methods:{onDone:function(e){this.finished=!0,this.result="/"+this.base+e.data.submitAnswers.message+".jpeg"}},mounted:function(){this.$apollo.mutate()}},E=x,Q=t("b0af"),j=t("99d9"),q=t("adda"),D=Object(p["a"])(E,A,N,!1,null,null,null),L=D.exports;function C(){var e=Object(r["a"])(["\n            mutation slaven3($votes: VoteMutationInput!) {\n              vote(input: $votes) {\n                message\n              }\n            }\n          "]);return C=function(){return e},e}h()(D,{VBtn:k["a"],VCard:Q["a"],VCardActions:j["a"],VCardTitle:j["b"],VImg:q["a"]});var I={data:function(){return{currentQuestion:0,submitedAnswers:[],totalNumberOfQuestions:10,isEnd:!1,alert:!1}},components:{SingleQuestion:O,Result:L},methods:{onSubmitAnswer:function(e,n){this.currentQuestion>=this.totalNumberOfQuestions-1?this.isEnd=!0:this.currentQuestion++,this.submitedAnswers.push({choiceId:e,questionId:n})},update:function(e){return this.totalNumberOfQuestions=e.allQuestions.edges.length,e},onDoAgain:function(e){this.currentQuestion=0,this.submitedAnswers=[],this.isEnd=!1,e.refetch()},doVote:function(e){var n=this;this.$apollo.mutate({mutation:l()(C()),variables:{votes:{id:e}}}).then((function(e){"You are not logged in"===e.data.vote.message&&(n.alert=!0)})).catch((function(e){console.error(e)})),this.$refs.queryComponentRef.getApolloQuery().refetch()}},mounted:function(){this.$refs.queryComponentRef.getApolloQuery().refetch()}},P=I,T=t("0798"),$=t("8e36"),F=Object(p["a"])(P,u,c,!1,null,null,null),R=F.exports;h()(F,{VAlert:T["a"],VCol:w["a"],VContainer:S["a"],VProgressLinear:$["a"],VRow:y["a"]});var M=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-form",{model:{value:e.valid,callback:function(n){e.valid=n},expression:"valid"}},[t("v-container",[t("v-row",{attrs:{align:"center","align-content":"center",justify:"center"}},[t("v-col",{attrs:{cols:"12",lg:"8"}},[t("v-text-field",{attrs:{label:"Pitanje",rules:e.rules,required:""},model:{value:e.question,callback:function(n){e.question=n},expression:"question"}})],1)],1),t("v-divider"),e._l(e.answers,(function(n,i){return t("v-row",{key:i,attrs:{align:"center","align-content":"center",justify:"center"}},[t("v-col",{attrs:{cols:"12",lg:"8"}},[t("v-text-field",{attrs:{label:"Odgovor "+(i+1),rules:e.rules,required:""},model:{value:e.answers[i],callback:function(n){e.$set(e.answers,i,n)},expression:"answers[index]"}})],1)],1)})),t("v-row",[t("v-col",{attrs:{cols:"auto","offset-lg":"2"}},[t("v-btn",{on:{click:e.doAppend}},[t("v-icon",[e._v("mdi-plus")])],1)],1)],1),t("v-row",[t("v-col",{attrs:{cols:"auto","offset-lg":"2"}},[t("v-btn",{attrs:{color:"primary"},on:{click:e.submitNewQuestion}},[e._v(" Posalji pitanje "),t("v-icon",[e._v("mdi-send")])],1)],1),t("v-col",{attrs:{cols:"auto","offset-lg":"2"}},[t("v-btn",{attrs:{color:"secondary"},on:{click:function(n){return e.$emit("updateQuery")}}},[e._v(" Vrati se na kviz ")])],1)],1)],2)],1)},B=[];function H(){var e=Object(r["a"])(["\n            mutation slaven($answers: CreateQuestionMutationInput!) {\n              createQuestion(input: $answers) {\n                message\n              }\n            }\n          "]);return H=function(){return e},e}var U={data:function(){return{valid:!0,question:"",answers:["",""],rules:[function(e){return!!e||"Obavezno polje"}]}},methods:{doAppend:function(){this.answers.push("")},submitNewQuestion:function(){var e=this;this.valid?this.$apollo.mutate({mutation:l()(H()),variables:{answers:{questionText:this.question,choices:this.answers}}}).then((function(n){"You are not logged in"!==n.data.createQuestion.message&&(e.answers=["",""],e.question="")})).catch((function(e){console.error(e)})):console.log("Form is not valid")}}},z=U,G=t("ce7e"),W=t("4bd4"),J=t("8654"),Y=Object(p["a"])(z,M,B,!1,null,null,null),K=Y.exports;function X(){var e=Object(r["a"])(["query {\n      isLoggedIn\n    }"]);return X=function(){return e},e}h()(Y,{VBtn:k["a"],VCol:w["a"],VContainer:S["a"],VDivider:G["a"],VForm:W["a"],VIcon:_["a"],VRow:y["a"],VTextField:J["a"]});var Z={name:"App",components:{ApolloExample:R,AddQuestion:K},data:function(){return{drawer:!1,isLoggedIn:!1,addQuestion:!1}},apollo:{isLoggedIn:l()(X())},methods:{doLoginOrLogout:function(){var e="/";this.isLoggedIn?window.location.href=e+"accounts/logout/":window.location.href=e+"accounts/login/?next="+e},goToAddQuestion:function(){this.addQuestion=!0},forRef:function(){this.$refs.qq.onDoAgain()},doUpdateQuestion:function(){this.addQuestion=!1,this.forRef()}}},ee=Z,ne=t("7496"),te=t("40dc"),ie=t("5bc1"),oe=t("8860"),ae=t("da13"),re=t("1baa"),se=t("34c3"),le=t("5d23"),ue=t("f6c4"),ce=t("f774"),de=t("2fa4"),ve=t("2a7f"),fe=Object(p["a"])(ee,o,a,!1,null,null,null),me=fe.exports;h()(fe,{VApp:ne["a"],VAppBar:te["a"],VAppBarNavIcon:ie["a"],VIcon:_["a"],VList:oe["a"],VListItem:ae["a"],VListItemGroup:re["a"],VListItemIcon:se["a"],VListItemTitle:le["a"],VMain:ue["a"],VNavigationDrawer:ce["a"],VSpacer:de["a"],VToolbarTitle:ve["a"]});var pe=t("f309");i["a"].use(pe["a"]);var ge=new pe["a"]({}),he=(t("c975"),t("96cf"),t("1da1"),t("5530")),be=t("522d"),ke=t("efe7");i["a"].use(be["a"]);var we="apollo-token",Se="/",_e=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GRAPHQL_HTTP||Se+"graphql",ye=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_FILES_ROOT||_e.substr(0,_e.indexOf("/graphql"));i["a"].prototype.$filesRoot=ye;var Ve={httpEndpoint:_e,wsEndpoint:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GRAPHQL_WS||null,tokenName:we,persisting:!1,websocketsOnly:!1,ssr:!1};function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(ke["createApolloClient"])(Object(he["a"])(Object(he["a"])({},Ve),e)),t=n.apolloClient,i=n.wsClient;t.wsClient=i;var o=new be["a"]({defaultClient:t,defaultOptions:{$query:{}},errorHandler:function(e){console.log("%cError","background: red; color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold;",e.message)}});return o}i["a"].config.productionTip=!1,new i["a"]({vuetify:ge,apolloProvider:Oe(),render:function(e){return e(me)}}).$mount("#app")},"65fc":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"slaven"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"answerss"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SubmitAnswersMutationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitAnswers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"answerss"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:109}};t.loc.source={body:"mutation slaven($answerss:SubmitAnswersMutationInput!){\n \tsubmitAnswers(input:$answerss){\n  \t    message\n\t}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var o={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}function r(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,r=new Set,s=new Set;i.forEach((function(e){s.add(e)}));while(s.size>0){var l=s;s=new Set,l.forEach((function(e){if(!r.has(e)){r.add(e);var n=o[e]||new Set;n.forEach((function(e){s.add(e)}))}}))}return r.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),o[e.name.value]=n}}))})(),e.exports=t,e.exports["slaven"]=r(t,"slaven")},8002:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HelloWorld"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLoggedIn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allQuestions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"voteCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userDidVote"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"choiceSet"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"choiceText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:365}};t.loc.source={body:"query HelloWorld {\n  isLoggedIn\n  allQuestions {\n    edges {\n      node {\n        id\n        questionText\n        voteCount\n        userDidVote\n        creator{\n          username\n        }\n        choiceSet {\n          edges {\n            node {\n              id\n              choiceText\n              votes\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var o={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}function r(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,r=new Set,s=new Set;i.forEach((function(e){s.add(e)}));while(s.size>0){var l=s;s=new Set,l.forEach((function(e){if(!r.has(e)){r.add(e);var n=o[e]||new Set;n.forEach((function(e){s.add(e)}))}}))}return r.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),o[e.name.value]=n}}))})(),e.exports=t,e.exports["HelloWorld"]=r(t,"HelloWorld")}});
//# sourceMappingURL=app.4af85ef7.js.map