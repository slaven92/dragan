(this["webpackJsonpkviz-web"]=this["webpackJsonpkviz-web"]||[]).push([[0],{13:function(e,t,a){e.exports=a(25)},18:function(e,t,a){},19:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(10),s=a.n(o),r=(a(18),a(8)),i=a(2),l=(a(19),a(6)),u=a(11),m=a(12);function d(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),o=a[0],s=a[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),u=l[0],m=l[1];return Object(n.useEffect)((function(){var t;t=e.answers,E("POST","/submit/",(function(e,t){s(!0),m(e.result)}),t)}),[e.answers]),!0===o?c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-sx"},c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img-top",src:"/static/kviz/".concat(u,".jpeg"),alt:"Responsive"}),c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-title"},u),c.a.createElement("p",{className:"card-text"},"Ovo je jedan od mnogih verzija Dragana."),c.a.createElement("a",{href:"/",onClick:function(){return e.onClick()},className:"btn btn-primary"},"Pocni opet"))))):c.a.createElement("div",null,"Loading")}function b(e){var t=e.question?e.question.question_text:"",a=e.question?e.question.choice_set:[],n=e.question?e.question.creator:"",o=e.question?e.question.votes:0;return c.a.createElement("div",null,c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-sm"},c.a.createElement("div",{className:"border"},c.a.createElement("div",{className:"border my-3"},c.a.createElement("p",{className:"h1 text-center"},t)),c.a.createElement("div",{className:"border mt-3"},c.a.createElement(v,{answers:a,onClick:e.onClick}))))),c.a.createElement("div",{className:"row justify-content-between"},c.a.createElement("div",{className:"col-auto"},c.a.createElement("p",null," Pitanje postavio: ",n)),c.a.createElement("div",{className:"col-2"},c.a.createElement("button",{className:"btn btn-dark btn-block"},c.a.createElement(l.a,{icon:u.a})," ",c.a.createElement("span",{className:"badge badge-primary"},o)))))}function v(e){return e.answers.map((function(t,a){return c.a.createElement("div",{className:"mx-auto m-6 border",key:a},c.a.createElement("button",{type:"button",className:"btn btn-outline-primary btn-lg btn-block",onClick:function(){return e.onClick(t.choice_text)}},t.choice_text,"(",t.votes,c.a.createElement(l.a,{icon:m.a}),")"))}))}function E(e,t,a,n){var c;n&&(c=JSON.stringify(n));var o=new XMLHttpRequest,s="/api".concat(t);o.responseType="json",o.open(e,s);var r=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var c=a[n].trim();if(c.substring(0,e.length+1)===e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t}("csrftoken");o.setRequestHeader("Content-Type","application/json"),r&&(o.setRequestHeader("HTTP_X_REQUEST_WITH","XMLHttpRequest"),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("X-CSRFToken",r)),o.onload=function(){a(o.response,o.status)},o.onerror=function(e){console.log(e),a({message:"Ne radi"},400)},o.send(c)}var f=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)(!1),l=Object(i.a)(s,2),u=l[0],m=l[1],v=Object(n.useState)(!1),f=Object(i.a)(v,2),p=f[0],j=f[1],k=Object(n.useState)(0),g=Object(i.a)(k,2),N=g[0],h=g[1],q=Object(n.useState)([]),w=Object(i.a)(q,2),O=w[0],y=w[1];return Object(n.useEffect)((function(){!1===p&&E("GET","/questions/",(function(e,t){o(Object(r.a)(e)),j(!0)}))}),[p]),!0===p?!0===u?c.a.createElement("div",{className:"mx-auto"},c.a.createElement(d,{answers:O,onClick:function(){!0===p&&(j(!1),h(0))}})):c.a.createElement(b,{question:a[N],onClick:function(e){var t=Object(r.a)(O),n={answer:e,question:a[N].question_text};t.push(n),y(t),h(N+1),N===a.length-1&&m(!0)}}):c.a.createElement("div",null,"Loading")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.e588454a.chunk.js.map