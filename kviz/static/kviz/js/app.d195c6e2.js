(function(e){function n(n){for(var i,r,s=n[0],l=n[1],u=n[2],d=0,v=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&v.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);c&&c(n);while(v.length)v.shift()();return a.push.apply(a,u||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],i=!0,s=1;s<t.length;s++){var l=t[s];0!==o[l]&&(i=!1)}i&&(a.splice(n--,1),e=r(r.s=t[0]))}return e}var i={},o={app:0},a=[];function r(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=i,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)r.d(t,i,function(n){return e[n]}.bind(null,i));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var c=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var i=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-app",[t("v-app-bar",{attrs:{app:"",color:"primary",dark:"","clipped-left":"","hide-on-scroll":"",absolute:""}},[t("v-app-bar-nav-icon",{on:{click:function(n){n.stopPropagation(),e.drawer=!e.drawer}}}),t("v-toolbar-title",[e._v("Saznaj koji si Dragan")]),t("v-spacer")],1),t("v-navigation-drawer",{attrs:{clipped:"",app:""},model:{value:e.drawer,callback:function(n){e.drawer=n},expression:"drawer"}},[t("v-list",{attrs:{dense:"",nav:""}},[t("v-list-item-group",{model:{value:e.group,callback:function(n){e.group=n},expression:"group"}},[t("v-list-item",{on:{click:e.doLoginOrLogout}},[t("v-list-item-icon",[t("v-icon",[e._v("mdi-account")])],1),e.isLoggedIn?t("v-list-item-title",[e._v("Odjavi se")]):t("v-list-item-title",[e._v("Prijavi se")])],1),e.isLoggedIn?t("v-list-item",{on:{click:e.goToAddQuestion}},[t("v-list-item-icon",[t("v-icon",[e._v("mdi-plus")])],1),t("v-list-item-title",[e._v("Dodaj pitanje")])],1):e._e()],1)],1)],1),t("v-main",[e.addQuestion?t("AddQuestion",{on:{updateQuery:e.doUpdateQuestion}}):t("ApolloExample",{ref:"qq"})],1)],1)},a=[],r=t("8785"),s=t("9530"),l=t.n(s),u=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"apollo-example"},[e.$apollo.loading?t("div",[e._v("Loading...")]):t("div",[t("v-progress-linear",{attrs:{height:"15",value:(e.currentQuestion+1)/e.totalNumberOfQuestions*100,rounded:""}},[e._v(e._s(e.currentQuestion+1)+" / "+e._s(e.totalNumberOfQuestions))]),e.isEnd?t("div",[t("Result",{attrs:{answers:e.submitedAnswers},on:{"do-again":function(n){return e.onDoAgain(e.query)}}})],1):t("div",[t("SingleQuestion",{attrs:{question:e.allQuestions.edges[e.currentQuestion].node},on:{doVote:e.doVote,"submit-answer":e.onSubmitAnswer}})],1),t("v-container",[t("v-row",{attrs:{align:"center","align-content":"center",justify:"center"}},[t("v-col",{attrs:{cols:"12",lg:"8"}},[t("v-alert",{attrs:{"close-text":"Close Alert",dark:"",type:"error",dismissible:""},model:{value:e.alert,callback:function(n){e.alert=n},expression:"alert"}},[e._v("Morate se ulogovati da biste lajkovali pitanje!")])],1)],1)],1)],1)])},c=[],d=(t("7db0"),t("4160"),t("159b"),function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-row",{attrs:{align:"center","align-content":"center",justify:"center"}},[t("v-col",{attrs:{cols:"auto"}},[t("h1",[e._v(" "+e._s(e.question.questionText)+" ")])])],1),t("v-row",{attrs:{align:"center","align-content":"center",justify:"center"}},[t("v-col",{attrs:{cols:"12",lg:"8"}},e._l(e.question.choiceSet.edges,(function(n){return t("div",{key:n.node.id},[t("v-btn",{attrs:{large:"",block:"",color:"primary"},on:{click:function(t){return e.$emit("submit-answer",n.node.id,e.question.id)}}},[e._v(" "+e._s(n.node.choiceText)+" "),t("v-badge",{attrs:{content:n.node.votes,inline:""}},[t("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-heart")])],1)],1)],1)})),0)],1),t("v-row",[t("v-col",{attrs:{lg:"4","offset-lg":"2"}},[t("p",[e._v("Pitao:"+e._s(e.question.creator.username))])]),t("v-col",{staticStyle:{"text-align":"right"},attrs:{lg:"4"}},[t("v-btn",{attrs:{color:"secondary"},on:{click:function(n){return e.$emit("doVote",e.question.id)}}},[e._v(e._s(e.question.voteCount)+" "),e.question.userDidVote?t("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-heart")]):t("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-heart-outline")])],1)],1)],1)],1)}),v=[],f=(t("a9e3"),{props:{question:{id:String,questionText:String,creator:Object,voteCount:Number,userDidVote:Boolean}}}),m=f,p=t("2877"),g=t("6544"),h=t.n(g),b=t("4ca6"),k=t("8336"),w=t("62ad"),S=t("a523"),_=t("132d"),V=t("0fd9"),y=Object(p["a"])(m,d,v,!1,null,null,null),O=y.exports;h()(y,{VBadge:b["a"],VBtn:k["a"],VCol:w["a"],VContainer:S["a"],VIcon:_["a"],VRow:V["a"]});var x=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("ApolloMutation",{attrs:{mutation:t("65fc"),variables:{answerss:e.answerss}},on:{done:e.onDone},scopedSlots:e._u([{key:"default",fn:function(n){var t=n.mutate,o=n.loading,a=n.error;return[e.finished?i("div",[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400"}},[i("v-img",{attrs:{src:e.result}}),i("v-card-title",[e._v("Dragan")]),i("v-card-actions",[i("v-btn",{on:{click:function(n){return e.$emit("do-again")}}},[e._v(" Odradi ponovo ")])],1)],1)],1):i("div",o?[e._v(" Loading ")]:[e._v(" Loading "+e._s(t())+" ")]),a?i("p",[e._v("An error occurred: "+e._s(a))]):e._e()]}}])})},E=[],N={data:function(){return{finished:!1,base:"static/kviz/",result:""}},props:{answers:Array},computed:{answerss:function(){return{answerList:this.answers}}},methods:{onDone:function(e){this.finished=!0,this.result="/"+this.base+e.data.submitAnswers.message+".jpeg"}},mounted:function(){this.$apollo.mutate()}},j=N,Q=t("b0af"),A=t("99d9"),q=t("adda"),D=Object(p["a"])(j,x,E,!1,null,null,null),L=D.exports;function I(){var e=Object(r["a"])(["\n            mutation slaven3($votes: VoteMutationInput!) {\n              vote(input: $votes) {\n                message\n              }\n            }\n          "]);return I=function(){return e},e}function P(){var e=Object(r["a"])(["query{\n      isLoggedIn\n    }\n    "]);return P=function(){return e},e}h()(D,{VBtn:k["a"],VCard:Q["a"],VCardActions:A["a"],VCardTitle:A["b"],VImg:q["a"]});var T={apollo:{allQuestions:t("8002"),isLoggedIn:l()(P())},data:function(){return{currentQuestion:0,submitedAnswers:[],isEnd:!1,alert:!1,allQuestions:[]}},components:{SingleQuestion:O,Result:L},computed:{totalNumberOfQuestions:function(){return this.allQuestions.edges.length}},methods:{onSubmitAnswer:function(e,n){this.currentQuestion>=this.totalNumberOfQuestions-1?this.isEnd=!0:this.currentQuestion++,this.submitedAnswers.push({choiceId:e,questionId:n})},onDoAgain:function(){var e=this;this.currentQuestion=0,this.isEnd=!1,this.submitedAnswers.forEach((function(n){var t=n.questionId,i=n.choiceId,o=e.allQuestions.edges.find((function(e){return e.node.id===t})),a=o.node.choiceSet.edges.find((function(e){return e.node.id===i}));a.node.votes++})),this.submitedAnswers=[]},doVote:function(e){var n=this;this.isLoggedIn?this.$apollo.mutate({mutation:l()(I()),variables:{votes:{id:e}}}).then((function(t){if("You are not logged in"!==t.data.vote.message){var i=n.allQuestions.edges.find((function(n){return n.node.id===e}));i.node.userDidVote?i.node.voteCount--:i.node.voteCount++,i.node.userDidVote=!i.node.userDidVote}else n.alert=!0})).catch((function(e){console.error(e)})):this.alert=!0}}},C=T,$=t("0798"),F=t("8e36"),R=Object(p["a"])(C,u,c,!1,null,null,null),M=R.exports;h()(R,{VAlert:$["a"],VCol:w["a"],VContainer:S["a"],VProgressLinear:F["a"],VRow:V["a"]});var B=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-form",{model:{value:e.valid,callback:function(n){e.valid=n},expression:"valid"}},[t("v-container",[t("v-row",{attrs:{align:"center","align-content":"center",justify:"center"}},[t("v-col",{attrs:{cols:"12",lg:"8"}},[t("v-text-field",{attrs:{label:"Pitanje",rules:e.rules,required:""},model:{value:e.question,callback:function(n){e.question=n},expression:"question"}})],1)],1),t("v-divider"),e._l(e.answers,(function(n,i){return t("v-row",{key:i,attrs:{align:"center","align-content":"center",justify:"center"}},[t("v-col",{attrs:{cols:"12",lg:"8"}},[t("v-text-field",{attrs:{label:"Odgovor "+(i+1),rules:e.rules,required:""},model:{value:e.answers[i],callback:function(n){e.$set(e.answers,i,n)},expression:"answers[index]"}})],1)],1)})),t("v-row",[t("v-col",{attrs:{cols:"auto","offset-lg":"2"}},[t("v-btn",{on:{click:e.doAppend}},[t("v-icon",[e._v("mdi-plus")])],1)],1)],1),t("v-row",[t("v-col",{attrs:{cols:"auto","offset-lg":"2"}},[t("v-btn",{attrs:{color:"primary"},on:{click:e.submitNewQuestion}},[e._v(" Posalji pitanje "),t("v-icon",[e._v("mdi-send")])],1)],1),t("v-col",{attrs:{cols:"auto","offset-lg":"2"}},[t("v-btn",{attrs:{color:"secondary"},on:{click:function(n){return e.$emit("updateQuery")}}},[e._v(" Vrati se na kviz ")])],1)],1)],2)],1)},U=[];function z(){var e=Object(r["a"])(["\n            mutation slaven($answers: CreateQuestionMutationInput!) {\n              createQuestion(input: $answers) {\n                message\n              }\n            }\n          "]);return z=function(){return e},e}var G={data:function(){return{valid:!0,question:"",answers:["",""],rules:[function(e){return!!e||"Obavezno polje"}]}},methods:{doAppend:function(){this.answers.push("")},submitNewQuestion:function(){var e=this;this.valid?this.$apollo.mutate({mutation:l()(z()),variables:{answers:{questionText:this.question,choices:this.answers}}}).then((function(n){"You are not logged in"!==n.data.createQuestion.message&&(e.answers=["",""],e.question="",e.valid=!0)})).catch((function(e){console.error(e)})):console.log("Form is not valid")}}},H=G,J=t("ce7e"),Y=t("4bd4"),W=t("8654"),K=Object(p["a"])(H,B,U,!1,null,null,null),X=K.exports;function Z(){var e=Object(r["a"])(["query {\n      isLoggedIn\n    }"]);return Z=function(){return e},e}h()(K,{VBtn:k["a"],VCol:w["a"],VContainer:S["a"],VDivider:J["a"],VForm:Y["a"],VIcon:_["a"],VRow:V["a"],VTextField:W["a"]});var ee={name:"App",components:{ApolloExample:M,AddQuestion:X},data:function(){return{drawer:!1,isLoggedIn:!1,addQuestion:!1}},apollo:{isLoggedIn:l()(Z())},methods:{doLoginOrLogout:function(){var e="/";this.isLoggedIn?window.location.href=e+"accounts/logout/":window.location.href=e+"accounts/login/?next="+e},goToAddQuestion:function(){this.addQuestion=!0},doUpdateQuestion:function(){this.$apollo.queries.allQuestions.refetch(),this.addQuestion=!1}}},ne=ee,te=t("7496"),ie=t("40dc"),oe=t("5bc1"),ae=t("8860"),re=t("da13"),se=t("1baa"),le=t("34c3"),ue=t("5d23"),ce=t("f6c4"),de=t("f774"),ve=t("2fa4"),fe=t("2a7f"),me=Object(p["a"])(ne,o,a,!1,null,null,null),pe=me.exports;h()(me,{VApp:te["a"],VAppBar:ie["a"],VAppBarNavIcon:oe["a"],VIcon:_["a"],VList:ae["a"],VListItem:re["a"],VListItemGroup:se["a"],VListItemIcon:le["a"],VListItemTitle:ue["a"],VMain:ce["a"],VNavigationDrawer:de["a"],VSpacer:ve["a"],VToolbarTitle:fe["a"]});var ge=t("f309");i["a"].use(ge["a"]);var he=new ge["a"]({}),be=(t("c975"),t("96cf"),t("1da1"),t("5530")),ke=t("522d"),we=t("efe7");i["a"].use(ke["a"]);var Se="apollo-token",_e="/",Ve=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GRAPHQL_HTTP||_e+"graphql",ye=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_FILES_ROOT||Ve.substr(0,Ve.indexOf("/graphql"));i["a"].prototype.$filesRoot=ye;var Oe={httpEndpoint:Ve,wsEndpoint:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GRAPHQL_WS||null,tokenName:Se,persisting:!1,websocketsOnly:!1,ssr:!1};function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(we["createApolloClient"])(Object(be["a"])(Object(be["a"])({},Oe),e)),t=n.apolloClient,i=n.wsClient;t.wsClient=i;var o=new ke["a"]({defaultClient:t,defaultOptions:{$query:{}},errorHandler:function(e){console.log("%cError","background: red; color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold;",e.message)}});return o}i["a"].config.productionTip=!1,new i["a"]({vuetify:he,apolloProvider:xe(),render:function(e){return e(pe)}}).$mount("#app")},"65fc":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"slaven"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"answerss"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SubmitAnswersMutationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitAnswers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"answerss"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:109}};t.loc.source={body:"mutation slaven($answerss:SubmitAnswersMutationInput!){\n \tsubmitAnswers(input:$answerss){\n  \t    message\n\t}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var o={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}function r(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,r=new Set,s=new Set;i.forEach((function(e){s.add(e)}));while(s.size>0){var l=s;s=new Set,l.forEach((function(e){if(!r.has(e)){r.add(e);var n=o[e]||new Set;n.forEach((function(e){s.add(e)}))}}))}return r.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),o[e.name.value]=n}}))})(),e.exports=t,e.exports["slaven"]=r(t,"slaven")},8002:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"data"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allQuestions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"voteCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userDidVote"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"choiceSet"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"choiceText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:346}};t.loc.source={body:"query data {\n  allQuestions {\n    edges {\n      node {\n        id\n        questionText\n        voteCount\n        userDidVote\n        creator{\n          username\n        }\n        choiceSet {\n          edges {\n            node {\n              id\n              choiceText\n              votes\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var o={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}function r(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,r=new Set,s=new Set;i.forEach((function(e){s.add(e)}));while(s.size>0){var l=s;s=new Set,l.forEach((function(e){if(!r.has(e)){r.add(e);var n=o[e]||new Set;n.forEach((function(e){s.add(e)}))}}))}return r.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),o[e.name.value]=n}}))})(),e.exports=t,e.exports["data"]=r(t,"data")}});
//# sourceMappingURL=app.d195c6e2.js.map